@tailwind base;
@tailwind components;
@tailwind utilities;

/* ============================================
   CONTRACTORAI DESIGN SYSTEM v3.0 - PREMIUM DARK
   ============================================
   Modern dark UI with depth, glows, and sophistication
   - Minimal borders, maximum depth
   - Warm amber/gold accent with teal secondary
   - Glassmorphism and ambient lighting
   ============================================ */

:root {
  /* ========== TYPOGRAPHY ========== */
  font-family: Inter, system-ui, -apple-system, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  font-size: clamp(14px, 1.5vw + 0.5rem, 16px);

  /* ========== BACKGROUNDS - Layered Depth ========== */
  --color-bg-base: #0A0A0A;         /* Deepest black */
  --color-bg-primary: #0F0F0F;      /* Main app background */
  --color-bg-elevated: #141414;     /* Slightly elevated */
  --color-bg-surface: #1A1A1A;      /* Cards, modals */
  --color-bg-surface-hover: #1F1F1F; /* Hover state */
  --color-bg-overlay: #242424;      /* Nested elements */

  /* ========== ACCENT - Warm Amber/Gold ========== */
  --color-accent-100: rgba(251, 191, 36, 0.1);   /* 10% - subtle backgrounds */
  --color-accent-200: rgba(251, 191, 36, 0.2);   /* 20% - hover backgrounds */
  --color-accent-300: rgba(251, 191, 36, 0.3);   /* 30% - borders, dividers */
  --color-accent-400: rgba(251, 191, 36, 0.6);   /* 60% - secondary text */
  --color-accent-500: #F59E0B;                    /* Base amber */
  --color-accent-600: #FBBF24;                    /* Bright amber */
  --color-accent-700: #FCD34D;                    /* Light amber */
  --color-accent-glow: rgba(251, 191, 36, 0.4);  /* For shadows/glows */

  /* ========== SECONDARY ACCENT - Teal ========== */
  --color-secondary-100: rgba(45, 212, 191, 0.1);
  --color-secondary-200: rgba(45, 212, 191, 0.2);
  --color-secondary-500: #14B8A6;
  --color-secondary-600: #2DD4BF;
  --color-secondary-glow: rgba(45, 212, 191, 0.3);

  /* ========== STATUS COLORS ========== */
  --color-success: #34D399;
  --color-success-bg: rgba(52, 211, 153, 0.1);
  --color-success-glow: rgba(52, 211, 153, 0.3);

  --color-warning: #FBBF24;
  --color-warning-bg: rgba(251, 191, 36, 0.1);

  --color-error: #F87171;
  --color-error-bg: rgba(248, 113, 113, 0.1);
  --color-error-glow: rgba(248, 113, 113, 0.3);

  /* ========== TEXT COLORS ========== */
  --color-text-primary: #FFFFFF;
  --color-text-secondary: #A1A1AA;   /* zinc-400 */
  --color-text-tertiary: #71717A;    /* zinc-500 */
  --color-text-muted: #52525B;       /* zinc-600 */

  /* ========== BORDERS - Use sparingly ========== */
  --color-border-subtle: rgba(255, 255, 255, 0.06);
  --color-border-default: rgba(255, 255, 255, 0.1);
  --color-border-strong: rgba(255, 255, 255, 0.15);

  /* ========== GLOWS & SHADOWS ========== */
  --glow-accent: 0 0 20px var(--color-accent-glow), 0 0 40px rgba(251, 191, 36, 0.2);
  --glow-accent-sm: 0 0 10px var(--color-accent-glow);
  --glow-success: 0 0 20px var(--color-success-glow);
  --glow-teal: 0 0 20px var(--color-secondary-glow);

  --shadow-card: 0 4px 24px rgba(0, 0, 0, 0.4);
  --shadow-elevated: 0 8px 32px rgba(0, 0, 0, 0.5);
  --shadow-modal: 0 16px 48px rgba(0, 0, 0, 0.6);

  /* ========== SPACING & RADIUS ========== */
  --radius-sm: 0.375rem;
  --radius-md: 0.5rem;
  --radius-lg: 0.75rem;
  --radius-xl: 1rem;
  --radius-2xl: 1.25rem;
}

/* ============================================
   BASE LAYER
   ============================================ */
@layer base {
  html {
    overflow-x: hidden !important;
    width: 100vw;
    max-width: 100vw;
    -webkit-text-size-adjust: 100%;
    -webkit-tap-highlight-color: transparent;
  }

  body {
    margin: 0;
    min-height: 100vh;
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
    padding: 0 env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
    overflow-x: hidden !important;
    width: 100vw;
    max-width: 100vw;
  }

  #root {
    min-height: 100vh;
    overflow-x: hidden !important;
    width: 100vw;
    max-width: 100vw;
  }

  *, *::before, *::after {
    box-sizing: border-box;
  }

  h1, h2, h3, h4, h5, h6 {
    line-height: 1.2;
    color: var(--color-text-primary);
    font-weight: 600;
  }

  h1 { font-size: clamp(1.75rem, 4vw + 1rem, 3rem); }
  h2 { font-size: clamp(1.5rem, 3.5vw + 0.75rem, 2.5rem); }
  h3 { font-size: clamp(1.25rem, 3vw + 0.5rem, 2rem); }
  h4 { font-size: clamp(1.125rem, 2.5vw + 0.5rem, 1.5rem); }

  /* Prevent iOS zoom on inputs */
  input, textarea, select {
    font-size: 16px !important;
    touch-action: manipulation;
  }
}

/* ============================================
   COMPONENT LAYER - Premium Components
   ============================================ */
@layer components {
  /* ========== CARDS - Depth without borders ========== */
  .card {
    background: var(--color-bg-surface);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-card);
    /* No border by default - use background contrast */
  }

  .card-elevated {
    background: var(--color-bg-overlay);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-elevated);
  }

  .card-glow {
    background: var(--color-bg-surface);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-card), var(--glow-accent-sm);
  }

  .card-glass {
    background: rgba(26, 26, 26, 0.8);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-radius: var(--radius-xl);
    border: 1px solid var(--color-border-subtle);
  }

  /* ========== STAT CARDS - With ambient glow ========== */
  .stat-card-revenue {
    background: linear-gradient(135deg, var(--color-bg-surface) 0%, rgba(52, 211, 153, 0.05) 100%);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-card), var(--glow-success);
    position: relative;
    overflow: hidden;
  }

  .stat-card-revenue::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, var(--color-success-glow) 0%, transparent 70%);
    opacity: 0.3;
    pointer-events: none;
  }

  .stat-card-profit {
    background: linear-gradient(135deg, var(--color-bg-surface) 0%, rgba(251, 191, 36, 0.05) 100%);
    border-radius: var(--radius-xl);
    box-shadow: var(--shadow-card), var(--glow-accent-sm);
    position: relative;
    overflow: hidden;
  }

  .stat-card-profit::before {
    content: '';
    position: absolute;
    top: -50%;
    right: -50%;
    width: 100%;
    height: 100%;
    background: radial-gradient(circle, var(--color-accent-glow) 0%, transparent 70%);
    opacity: 0.3;
    pointer-events: none;
  }

  /* ========== BUTTONS ========== */

  /* Primary CTA - Gradient amber with glow */
  .btn-primary {
    @apply inline-flex items-center justify-center gap-2 px-5 py-3 font-semibold rounded-xl transition-all duration-200;
    background: linear-gradient(135deg, #F59E0B 0%, #FBBF24 100%);
    color: #0F0F0F;
    box-shadow: 0 4px 14px rgba(251, 191, 36, 0.4);
  }

  .btn-primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 20px rgba(251, 191, 36, 0.5);
  }

  .btn-primary:active {
    transform: translateY(0);
  }

  .btn-primary:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    transform: none;
  }

  /* Secondary Button - Subtle surface */
  .btn-secondary {
    @apply inline-flex items-center justify-center gap-2 px-5 py-3 font-semibold rounded-xl transition-all duration-200;
    background: var(--color-bg-overlay);
    color: var(--color-text-primary);
  }

  .btn-secondary:hover {
    background: var(--color-bg-surface-hover);
  }

  /* Ghost Button - Minimal */
  .btn-ghost {
    @apply inline-flex items-center justify-center gap-2 px-4 py-2.5 font-medium rounded-lg transition-all duration-200;
    background: transparent;
    color: var(--color-text-secondary);
  }

  .btn-ghost:hover {
    background: var(--color-accent-100);
    color: var(--color-accent-600);
  }

  /* Danger Button */
  .btn-danger {
    @apply inline-flex items-center justify-center gap-2 px-5 py-3 font-semibold rounded-xl transition-all duration-200;
    background: var(--color-error-bg);
    color: var(--color-error);
  }

  .btn-danger:hover {
    background: rgba(248, 113, 113, 0.2);
  }

  /* ========== INPUTS - Clean, minimal ========== */
  .input {
    @apply w-full px-4 py-3 text-base rounded-xl transition-all duration-200;
    background: var(--color-bg-elevated);
    border: 1px solid transparent;
    color: var(--color-text-primary);
  }

  .input:hover {
    background: var(--color-bg-surface);
  }

  .input:focus {
    outline: none;
    background: var(--color-bg-surface);
    border-color: var(--color-accent-300);
    box-shadow: 0 0 0 3px var(--color-accent-100);
  }

  .input::placeholder {
    color: var(--color-text-muted);
  }

  /* ========== STATUS BADGES ========== */
  .badge-success {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded-full;
    background: var(--color-success-bg);
    color: var(--color-success);
  }

  .badge-warning {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded-full;
    background: var(--color-warning-bg);
    color: var(--color-warning);
  }

  .badge-error {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded-full;
    background: var(--color-error-bg);
    color: var(--color-error);
  }

  .badge-neutral {
    @apply inline-flex items-center gap-1.5 px-3 py-1.5 text-sm font-medium rounded-full;
    background: var(--color-bg-overlay);
    color: var(--color-text-secondary);
  }

  /* ========== NAVIGATION ========== */
  .nav-item {
    @apply flex items-center gap-3 px-4 py-3 rounded-xl transition-all duration-200;
    color: var(--color-text-secondary);
  }

  .nav-item:hover {
    background: var(--color-accent-100);
    color: var(--color-text-primary);
  }

  .nav-item.active {
    background: var(--color-accent-200);
    color: var(--color-accent-600);
  }

  /* ========== MODAL/OVERLAY ========== */
  .modal-backdrop {
    background: rgba(0, 0, 0, 0.8);
    backdrop-filter: blur(4px);
  }

  .modal-content {
    background: var(--color-bg-surface);
    border-radius: var(--radius-2xl);
    box-shadow: var(--shadow-modal);
    border: 1px solid var(--color-border-subtle);
  }

  /* ========== DIVIDERS ========== */
  .divider {
    height: 1px;
    background: linear-gradient(90deg, transparent 0%, var(--color-border-default) 50%, transparent 100%);
  }

  .divider-accent {
    height: 2px;
    background: linear-gradient(90deg, transparent 0%, var(--color-accent-300) 50%, transparent 100%);
  }
}

/* ============================================
   UTILITIES
   ============================================ */
@layer utilities {
  /* Text utilities */
  .text-gradient-accent {
    background: linear-gradient(135deg, #F59E0B 0%, #FBBF24 50%, #FCD34D 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  .text-gradient-success {
    background: linear-gradient(135deg, #10B981 0%, #34D399 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
  }

  /* Glow effects */
  .glow-accent {
    box-shadow: var(--glow-accent);
  }

  .glow-accent-sm {
    box-shadow: var(--glow-accent-sm);
  }

  .glow-success {
    box-shadow: var(--glow-success);
  }

  /* Accent backgrounds with opacity */
  .bg-accent-10 { background: var(--color-accent-100); }
  .bg-accent-20 { background: var(--color-accent-200); }
  .bg-accent-30 { background: var(--color-accent-300); }

  /* Border utilities - use sparingly */
  .border-subtle { border-color: var(--color-border-subtle); }
  .border-accent-30 { border-color: var(--color-accent-300); }

  /* Safe area */
  .pb-safe { padding-bottom: env(safe-area-inset-bottom, 0px); }
  .pt-safe { padding-top: env(safe-area-inset-top, 0px); }

  /* Animations */
  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 20px var(--color-accent-glow); }
    50% { box-shadow: 0 0 30px var(--color-accent-glow), 0 0 40px rgba(251, 191, 36, 0.2); }
  }

  .animate-pulse-glow {
    animation: pulse-glow 2s ease-in-out infinite;
  }

  @keyframes slide-up {
    from { transform: translateY(100%); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
  }

  .animate-slide-up {
    animation: slide-up 0.3s ease-out forwards;
  }

  /* Overflow utilities */
  .whitespace-pre-wrap {
    word-wrap: break-word;
    overflow-wrap: break-word;
    word-break: break-word;
  }
}

/* ============================================
   AI CHAT STYLES - Removed, using inline Tailwind classes now
   ============================================ */

/* ============================================
   iOS FIXES
   ============================================ */
@supports (-webkit-touch-callout: none) {
  body, html, #root {
    width: 100vw !important;
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }
}

input[type="date"] {
  -webkit-appearance: none;
  appearance: none;
}

input[type="date"]::-webkit-calendar-picker-indicator {
  opacity: 0;
  position: absolute;
  right: 0;
  width: 100%;
  height: 100%;
  cursor: pointer;
}

/* ============================================
   COMPONENT OVERRIDES - Premium styling
   ============================================ */

/* Remove orange borders globally, use subtle borders or none */
.border-orange-500\/30,
.border-orange-500\/20 {
  border-color: var(--color-border-subtle) !important;
}

/* Upgrade orange backgrounds to gradient/glow versions */
.bg-orange-500 {
  background: linear-gradient(135deg, #F59E0B 0%, #FBBF24 100%) !important;
  box-shadow: 0 4px 14px rgba(251, 191, 36, 0.4) !important;
}

.bg-orange-500\/20,
.bg-orange-500\/10 {
  background: var(--color-accent-100) !important;
}

/* Icon containers - subtle glow */
.bg-orange-500\/20.rounded-lg,
.bg-orange-500\/20.rounded-xl {
  background: var(--color-accent-100) !important;
  box-shadow: inset 0 0 20px var(--color-accent-100);
}

/* Text colors - warmer amber */
.text-orange-500 {
  color: var(--color-accent-600) !important;
}

.text-orange-400 {
  color: var(--color-accent-700) !important;
}

/* Success colors - teal secondary */
.text-green-400,
.text-green-500 {
  color: var(--color-success) !important;
}

.bg-green-500 {
  background: linear-gradient(135deg, #10B981 0%, #34D399 100%) !important;
  box-shadow: 0 4px 14px var(--color-success-glow) !important;
}

/* Card surfaces - remove harsh borders */
.bg-\[\#1C1C1E\] {
  background: var(--color-bg-surface) !important;
}

.bg-\[\#2C2C2E\] {
  background: var(--color-bg-overlay) !important;
}

/* Bottom nav enhancement */
.border-t.border-orange-500\/30 {
  border-color: var(--color-border-subtle) !important;
  background: linear-gradient(180deg, transparent 0%, rgba(251, 191, 36, 0.02) 100%);
}

/* Shadow utilities for cards */
.shadow-lg.shadow-orange-500\/30,
.shadow-lg.shadow-orange-500\/20 {
  box-shadow: 0 4px 14px rgba(251, 191, 36, 0.25) !important;
}

.shadow-lg.shadow-green-500\/20 {
  box-shadow: 0 4px 14px var(--color-success-glow) !important;
}

/* ============================================
   MODAL NAVBAR HIDING
   When modal-active class is on body, hide the bottom navbar
   ============================================ */
body.modal-active nav {
  display: none !important;
  visibility: hidden !important;
  opacity: 0 !important;
  pointer-events: none !important;
}
